{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "vconcat": [
    {
      "width": 2000,
      "height": 2000,
      "title": {"fontSize": 15, "text": "Suspected bushfires in January and their intensity"},
      "projection": {"type": "equirectangular"},
      "layer": [{
          "data": {
            "url": "https://raw.githubusercontent.com/jnos0003/Bushfire_data/refs/heads/main/STE_2016_AUST.json",
            "format": {"type": "topojson", "feature": "STE_2016_AUST"}
          },
          "mark": {
            "type": "geoshape", 
            "fill": "grey", 
            "stroke": "black"
          }
      },
      {
        "data": {
          "url": "https://raw.githubusercontent.com/jnos0003/Bushfire_data/refs/heads/main/1_1_20_to_11_1_2020_MODIS.csv",
          "name": "modis_data",
          "format": {"type": "csv"}
        },
        "mark": {
          "type": "square", 
          "tooltip": {"content" : "encoding"},
          "size": 10
        },
        "transform": [{"filter":{"param": "brush"}}],
        "encoding": {
          "longitude": {"field": "longitude", "type": "quantitative"},
          "latitude" : {"field": "latitude", "type"  : "quantitative"},
          "color": {
            "field": "brightness",
            "scale": {"domain": {"param": "brush"}},
            "type": "quantitative",
            "title": "intensity"
          }
        }
      }]
    },
    {
      "width": 2000,
      "height":100,
      "title": {"fontSize": 15, "text": "Average intensity on associated dates  (used to filter)"},
      "data": {
        "url": "https://raw.githubusercontent.com/jnos0003/Bushfire_data/refs/heads/main/1_1_20_to_11_1_2020_MODIS.csv",
        "name": "modis_data",
        "format": {"type": "csv"}
      },
      "mark": "bar",
      "tooltip": {"content" : "encoding"},
      "params":[{"name": "brush", "select": {"type": "interval", "encodings": ["x"]}}],
      "encoding": {
        "x": {
          "timeUnit": "month",      
          "type": "temporal",
          "field": "acq_date",
          "title": "time of year"
          
        },  
        "y": {
          "aggregate": "mean",
          "field": "brightness",
          "title": "temperature"
        }
      }
    }
  ]
}
